{% extends 'libman/base.html' %}
{% load static %}
<title>{% block title %} View Student {% endblock %}</title>
{% block b_main %}
  <div>
    <a href="{% url 'add_student' %}">Add Student!</a>
  </div>
  <div>
    <form method="GET" action="{% url 'view_student' %}">
      <input type="text" name="q" value="{{request.GET.q}}" placeholder="Search Students">
      <input type="submit" value="Search">
    </form>
  </div>

  {% if students %}
  <table class="layout">
    <thead>
      <th>Student ID</th>
      <th>First Name</th>
      <th>Last Name</th>
      <th>Address</th>
      <th>Phone no.</th>
      <th>Email</th>
      <th>Department</th>
      <th>Batch</th>
      <th>Semester</th>
    </thead>
  {% for student in students %}
    <tr>
      <td> {{ student.student_id }}</td>
      <td>{{ student.Fname }}</td>
      <td>{{ student.Lname }}</td>
      <td>{{ student.Address }}</td>
      <td>{{ student.phone }}</td>
      <td>{{ student.email }}</td>
      <td>{{ student.depart }}</td>
      <td>{{ student.batch }}</td>
      <td>{{ student.semester }}</td>
    </tr>
  {% endfor %}
  </table>
  {% else %}
    <p> There are no students registered. </p>
  {% endif %}
{% endblock %}
